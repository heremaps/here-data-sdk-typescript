<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fetch token with JS, generated by OLP SDK for Typescript.</title>
</head>

<body>
    <h1>Fetch token with JS, generated by OLP SDK for Typescript.</h1>
    <a href="/">Main page</a>
    <div style="margin-top: 20px;"><button onclick="run()">Run</button></div>
    <div id="result"></div>

    <script src="https://unpkg.com/@here/olp-sdk-authentication/bundle.umd.min.js"></script>
    <script>

        function run() {
            var userAuth = new UserAuth({
                env: "here",
                credentials: {
                    accessKeyId: "your-app-id",
                    accessKeySecret: "your-app-secret"
                },
                tokenRequester: requestToken
            });

            userAuth.getToken().then(token => {
                var node = document.createElement("p");
                var textnode = document.createTextNode(token);
                node.appendChild(textnode);
                document.getElementById("result").appendChild(node);
            });

        }

    </script>
</body>

</html>